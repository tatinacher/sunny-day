(()=>{"use strict";var e={956:(e,t,n)=>{const r=require("express"),a=require("react");var o=n.n(a);const i=require("react-dom/server"),c=require("react-router"),l=require("react-redux"),u=require("@reduxjs/toolkit"),s=require("styled-components");var d=n.n(s),f="metric",p="â„ƒ",m=function(e){return"https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=").concat("d9aeccbe6071e6c656cb96372543b45e","&units=").concat(f)},v=[{id:1,name:"new york",content:"NY"},{id:2,name:"Monaco",content:"Monaco"},{id:2,name:"rome,it",content:"rome,it"},{id:2,name:"Venezia",content:"Venezia"},{id:2,name:"saint petersburg",content:"saint petersburg"}];function y(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}var h,w,b,x=(0,u.createAsyncThunk)("city/fetchCity",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(m(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){y(o,r,a,i,c,"next",e)}function c(e){y(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),g=(0,u.createSlice)({name:"city",initialState:{},reducers:{cityLoaded:function(e,t){return t.payload}},extraReducers:(h={},w=x.fulfilled,b=function(e,t){return t.payload},w in h?Object.defineProperty(h,w,{value:b,enumerable:!0,configurable:!0,writable:!0}):h[w]=b,h)}),E=(g.actions.cityLoaded,g.reducer);const j=require("react-router-dom");var S,O,A;function P(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z,R,_,T=function(){var e,t=(0,j.useParams)().id,n=(0,l.useDispatch)(),r=(0,l.useSelector)((function(e){return e.city})),o=r.city,i=r.list,c=o.name,u=o.country,s=o.population;if(a.useEffect((function(){t&&c.toLowerCase()!==t&&n(x(t))}),[t]),!c||c.toLowerCase()!==t)return null;var d,f=function(e){if(Array.isArray(e))return e}(d=i)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(d)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=f[0];return f.slice(1),a.createElement(k,null,a.createElement("div",null,a.createElement("div",null,a.createElement("h2",null,"Random city"),a.createElement("h1",null,c),a.createElement("h2",null,u),a.createElement("p",null,"Population ",s)),a.createElement("h1",null,null==m||null===(e=m.main)||void 0===e?void 0:e.temp,p)))},k=d().div(S||(S=P(["\n  padding: 30px;\n"]))),L=(d().div(O||(O=P(["\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  padding: 10px;\n  margin: 10px;\n  max-width: 300px;\n"]))),d().div(A||(A=P(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n"]))),function(e,t){return Math.floor(Math.random()*(t-e)+e)});function I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C,D,Y,H,N,K,U=function(){var e,t=(0,l.useSelector)((function(e){return e.city})),n=t.city,r=t.list,o=n.name,i=n.country,c=n.population,u=(0,l.useDispatch)();if(a.useEffect((function(){var e=v[L(0,v.length)].name;u(x(e))}),[u]),!o)return null;var s,d=function(e){if(Array.isArray(e))return e}(s=r)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0];return d.slice(1),a.createElement(V,null,a.createElement("div",null,a.createElement("div",null,a.createElement("h2",null,"Random city"),a.createElement("h1",null,o),a.createElement("h2",null,i),a.createElement("p",null,"Population ",c)),a.createElement("h1",null,null==f||null===(e=f.main)||void 0===e?void 0:e.temp,p)))},V=d().div(z||(z=I(["\n  padding: 30px;\n"]))),$=(d().div(R||(R=I(["\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  padding: 10px;\n  margin: 10px;\n  max-width: 300px;\n"]))),d().div(_||(_=I(["\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n"]))),[{path:"/",render:a.createElement(U,null),exact:!0},{path:"/city/:id",render:a.createElement(T,null),exact:!0}]),J=function(){return a.createElement(j.Switch,null,$.map((function(e){var t=e.path,n=e.exact,r=e.render;return a.createElement(j.Route,{key:t,exact:n,path:t,render:function(){return r}})})),a.createElement(j.Redirect,{to:"/"}))},W=function(){return a.createElement(B,null,a.createElement(j.Link,{to:"/"},"Home"),a.createElement(j.Link,{to:"/city/saint petersburg"},"Saint Peterburg"),a.createElement(j.Link,{to:"/city/moscow"},"Moscow"))},B=d().div(C||(D=["\n  display: flex;\n  background-color: #f5f5f5;\n  padding: 30px;\n  a {\n    padding: 0 30px;\n  }\n"],Y||(Y=D.slice(0)),C=Object.freeze(Object.defineProperties(D,{raw:{value:Object.freeze(Y)}}))));function F(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var G=d().div(H||(H=F(['\n  *,\n  body {\n    font-family: "Helvetica Neue";\n  }\n  --palette-snow-1000: #000000;\n  --palette-snow-500: #c0c0c0;\n  --palette-snow-100: #f5f5f5;\n  --palette-snow-0: #ffffff;\n  --palette-lavender-500: #9381f1;\n\n  /* should be rewritten to formulas */\n  --woly-line-height: 24px;\n  --woly-border-width: 1.5px;\n  --woly-rounding: 4px;\n  --woly-font-size: 15px;\n\n  --woly-const-m: 6px;\n  --woly-main-level: 3;\n\n  --woly-neutral: var(--palette-snow-500);\n  --woly-focus: #9381f1;\n  --woly-background: #ffffff;\n\n  [data-variant="default"] {\n    --woly-shape-default: #b0a3f4;\n    --woly-shape-disabled: #e5e5e5;\n    --woly-shape-hover: #c9c0f8;\n    --woly-shape-active: #b0a3f4;\n\n    --woly-shape-text-default: var(--palette-snow-0);\n    --woly-shape-text-disabled: var(--palette-snow-0);\n    --woly-shape-text-hover: var(--palette-snow-0);\n    --woly-shape-text-active: var(--palette-snow-0);\n\n    --woly-canvas-default: transparent;\n    --woly-canvas-disabled: var(--palette-snow-100);\n    --woly-canvas-hover: var(--palette-snow-500);\n    --woly-canvas-active: var(--palette-snow-500);\n\n    --woly-canvas-text-default: var(--palette-snow-1000);\n    --woly-canvas-text-disabled: var(--palette-snow-500);\n    --woly-canvas-text-hover: var(--palette-snow-500);\n    --woly-canvas-text-active: var(--palette-snow-500);\n  }\n']))),Q=d().div(N||(N=F(["\n  --woly-font-size: 15px;\n"]))),X=(d()(Q)(K||(K=F(["\n  --woly-component-level: 3;\n"]))),function(){return a.createElement(G,null,a.createElement(W,null),a.createElement(J,null))}),Z=n(786);n(334).config();var ee=function(e){return(0,u.configureStore)({reducer:{city:E},preloadedState:{city:e}})},te=function(e,t){var n=new s.ServerStyleSheet,r=(0,i.renderToString)(n.collectStyles(o().createElement(l.Provider,{store:t},o().createElement(c.StaticRouter,{location:e.path},o().createElement(X,null))))),a=n.getStyleTags(),u=t.getState();return'<!DOCTYPE html>\n              <head>\n                  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>\n                  '.concat(a,'\n                  </head>\n              <body>\n                  <div id="root">').concat(r,"</div>\n                  <script> window.__PRELOADED_STATE__ = ").concat(JSON.stringify(u).replace(/</g,"\\u003c"),'<\/script>\n                  <script src="/bundle.js"><\/script>\n              </body>\n      </html>')},ne=r(),re={WEATHER_API_KEY:"d9aeccbe6071e6c656cb96372543b45e",REACT_APP_API_KEY:"d9aeccbe6071e6c656cb96372543b45e"}.PORT||3e3;ne.use(r.static("public")),ne.get("/",(function(e,t){return function(e,t){return Z(m(v[L(0,v.length)].name)).then((function(e){return e.json()})).then((function(e){return ee(e)})).then((function(t){return te(e,t)})).then((function(e){return t.send(e)}))}(e,t)})),ne.get("/city/:id",(function(e,t){return function(e,t){return Z(m(e.params.id)).then((function(e){return e.json()})).then((function(e){return ee(e)})).then((function(t){return te(e,t)})).then((function(e){return t.send(e)}))}(e,t)})),ne.listen(re,(function(){console.log("Listening on port: ".concat(re))}))},949:e=>{e.exports=require("@babel/polyfill")},334:e=>{e.exports=require("dotenv")},786:e=>{e.exports=require("node-fetch")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(949),n(956)})();